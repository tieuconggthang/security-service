# ===================== Oracle JDBC over TCPS =====================
spring.datasource.url=jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=localhost)(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=ORCLPDB1))(SECURITY=(SSL_SERVER_CERT_DN="CN=oracle-server,OU=IT,O=MyCompany,L=City,ST=State,C=VN")))
spring.datasource.username=billing
spring.datasource.password=ENC(C0Hiv/LsF367wZGdUncCWY/n4UnNi8wUB2hY4BAI2X8=)
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver

# # ===================== JPA/Hibernate =====================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect
spring.jpa.open-in-view=false
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# ===================== HikariCP (pool 60, fail-fast) =====================
spring.datasource.hikari.pool-name=HikariPool-1
spring.datasource.hikari.maximum-pool-size=60
spring.datasource.hikari.minimum-idle=20
 # 10s: thi\u1EBFu connection thì fail nhanh
spring.datasource.hikari.connection-timeout=10000     
spring.datasource.hikari.validation-timeout=3000
spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL
spring.datasource.hikari.initialization-fail-timeout=0
# 10 phút
spring.datasource.hikari.idle-timeout=600000 
# 25 phút (< timeout phía DB/LB)          
spring.datasource.hikari.max-lifetime=1500000          

# (Tu\u1EF3 ch\u1ECDn khi \u0111i\u1EC1u tra rò r\u1EC9)
# spring.datasource.hikari.leak-detection-threshold=2000

# ===================== Logging g\u1ECDn nh\u1EB9 khi benchmark =====================
logging.level.org.hibernate.SQL=off
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=off
logging.level.org.hibernate.tool.hbm2ddl=warn
logging.level.oracle=error
logging.level.com.zaxxer.hikari=warn
logging.level.org.springframework.jdbc=warn
logging.level.org.hibernate.engine.jdbc.connections=warn
